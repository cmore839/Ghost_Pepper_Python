# config.py

# --- CAN Service ---
CAN_INTERFACE = 'socketcan'
CAN_CHANNEL = 'can0'
CAN_BITRATE = 500000 # Restored to your original value

# --- CAN IDs ---
CAN_ID_COMMAND_BASE = 0x000
CAN_ID_MOTION_COMMAND_BASE = 0x100       # NEW
CAN_ID_TELEMETRY_BASE = 0x200
CAN_ID_RESPONSE_BASE = 0x300
CAN_ID_STATUS_FEEDBACK_BASE = 0x400    # NEW
CAN_ID_SCAN_BROADCAST = 0x700
CAN_ID_SYNC = 0x080                      # NEW

# --- Official SimpleFOC Register Map (from your working file) ---
REG_STATUS = 0x00
REG_TARGET = 0x01
REG_ENABLE = 0x04
REG_CONTROL_MODE = 0x05

REG_VEL_PID_P = 0x30
REG_VEL_PID_I = 0x31
REG_VEL_PID_D = 0x32
REG_VEL_PID_LIM = 0x33
REG_VEL_PID_RAMP = 0x34
REG_VEL_LPF_T = 0x35

REG_ANG_PID_P = 0x36
REG_ANG_PID_I = 0x37
REG_ANG_PID_D = 0x38
REG_ANG_PID_LIM = 0x39
REG_ANG_PID_RAMP = 0x3A

REG_CURQ_PID_P = 0x40
REG_CURQ_PID_I = 0x41
REG_CURQ_PID_D = 0x42
REG_CURQ_LPF_T = 0x45

REG_CURD_PID_P = 0x46
REG_CURD_PID_I = 0x47
REG_CURD_PID_D = 0x48
REG_CURD_LPF_T = 0x4B

REG_VOLTAGE_LIMIT = 0x50
REG_CURRENT_LIMIT = 0x51
REG_VELOCITY_LIMIT = 0x52
REG_DRIVER_VOLTAGE_PSU = 0x55
REG_VOLTAGE_SENSOR_ALIGN = 0x56

REG_POLE_PAIRS = 0x63
REG_PHASE_RESISTANCE = 0x64
REG_KV = 0x65
REG_INDUCTANCE = 0x66

# --- Custom Registers ---
REG_CUSTOM_SAVE_TO_EEPROM        = 0xE1
REG_CUSTOM_FLIP_SENSOR_DIR       = 0xE2
REG_CUSTOM_TELEMETRY_PERIOD      = 0xE3
REG_CUSTOM_CHARACTERIZE_MOTOR    = 0xE4
REG_CUSTOM_SET_ID_AND_RESTART    = 0xE5
REG_CUSTOM_MOTION_COMMAND        = 0xE6 # NEW